# discordDatabase
## Info

Made for Node.js and requires Discord.js. Basically allows you to store and retrieve data from discord. Supports objects (the key-value pair ones), arrays, strings, numbers, bigints, booleans, null, undefined, buffers, and functions. The database is meant for readability, so there is no data compression. The encrypted version also doesn't have data compression, I was too lazy. This was made so that I can save data without storing it to disk. Automatically deletes messages the db doesnt need anymore on startup, you can remove it if you need to. Might have a few bugs in it, use at your own risk.

## How to use
Install all the required modules and stuff. Copy and paste the code to your thing. You might have to remove a few lines here and there because I copy and pasted this from something else I made and I'm too lazy to clean it up. Fill in the blank values (channelids, root msg ids). The encrypted database and normal one need to be in different channels, I haven't tested it. The root is an object {}, and you need a message for it. I didn't make a way to delete keys from the root, and it has a limit of 2000 characters (or whatever the discord bot message length limit is if they change it). This means that you should probably add another object to the root and use that one, since other messages can be sent as files (currently 50mb limit at the time of writing). To get the root id, just send \```{}``` as the bot in the database channel, and get the id. For the encrypted one, do the same thing except use the function persistStore.encrypt() on {}. For the encryption keys, you need to put two bigints that when XORed together become 256 bits in length. The encrypted database and normal one are seperate. To write to the db, you do persistStore.write(). the first arg should be an array ['value to write', ['path', 'to', 'write', 'to']]. Make the second arg true if you want to write to the encrypted db. persistStore.cache and persistStore.protCache are how you access the database and encrypted version respectively (don't directly edit them, use the write func or it won't save). You should edit before use as the structure was made to fit my own purpose, and also because its messy and kind of ineffcient.
